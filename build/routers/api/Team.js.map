{"version":3,"sources":["../../../server/routers/api/Team.js"],"names":["router","Router","get","req","res","allTeams","result","err","send","post","body","name","gender","region","newTeam","getTeam","params","id","team","getMeets","meets","console","log"],"mappings":";;;;;;;;;;;;;;AAGA;;;;AAEA;;;;AACA;;;;AAFA,IAAMA,SAAS,kBAAQC,MAAR,EAAf,C,CAJA;;;;;AAQAD,OAAOE,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC5B,iBAAKC,QAAL,CAAc,UAACC,MAAD,EAASC,GAAT,EAAiB;AAC7BH,QAAII,IAAJ,CAAS,yBAAeF,MAAf,EAAuBC,GAAvB,CAAT;AACD,GAFD;AAGD,CAJD;;AAMAP,OAAOS,IAAP,CAAY,MAAZ,EAAoB,UAACN,GAAD,EAAMC,GAAN,EAAc;AAChC;AADgC,kBAECD,IAAIO,IAFL;AAAA,MAExBC,IAFwB,aAExBA,IAFwB;AAAA,MAElBC,MAFkB,aAElBA,MAFkB;AAAA,MAEVC,MAFU,aAEVA,MAFU;;AAGhC,iBAAKC,OAAL,CAAaH,IAAb,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmC,UAACP,MAAD,EAASC,GAAT,EAAiB;AAClDH,QAAII,IAAJ,CAAS,yBAAeF,MAAf,EAAuBC,GAAvB,CAAT;AACD,GAFD;AAGD,CAND;;AAQAP,OAAOE,GAAP,CAAW,MAAX;AAAA,wEAAmB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEI,eAAKW,OAAL,CAAaZ,IAAIa,MAAJ,CAAWC,EAAxB,CAFJ;;AAAA;AAETC,gBAFS;AAAA;AAAA,mBAGK,eAAKC,QAAL,CAAchB,IAAIa,MAAJ,CAAWC,EAAzB,CAHL;;AAAA;AAGTG,iBAHS;;AAIfhB,gBAAII,IAAJ,CAAS,yBAAe,EAAEU,UAAF,EAAQE,YAAR,EAAf,CAAT;AAJe;AAAA;;AAAA;AAAA;AAAA;;AAMfhB,gBAAII,IAAJ,CAAS,yBAAe,EAAf,cAAT;AACAa,oBAAQC,GAAR;;AAPe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAnB;;AAAA;AAAA;AAAA;AAAA;;kBAWetB,M","file":"Team.js","sourcesContent":["/**\n * Team controller - handles all the api routes that deal with teams\n */\nimport express from 'express';\nconst router = express.Router();\nimport Team from '../../models/Team';\nimport { formatResponse } from '../../helpers/api';\n\nrouter.get('/', (req, res) => {\n  Team.allTeams((result, err) => {\n    res.send(formatResponse(result, err));\n  });\n});\n\nrouter.post('/new', (req, res) => {\n  // create a new team\n  const { name, gender, region } = req.body;\n  Team.newTeam(name, gender, region, (result, err) => {\n    res.send(formatResponse(result, err));\n  });\n});\n\nrouter.get('/:id', async (req, res) => {\n  try {\n    const team = await Team.getTeam(req.params.id);\n    const meets = await Team.getMeets(req.params.id);\n    res.send(formatResponse({ team, meets }));\n  } catch (err) {\n    res.send(formatResponse({}, err));\n    console.log(err);\n  }\n});\n\nexport default router;\n"]}