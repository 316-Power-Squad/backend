{"version":3,"sources":["../../../server/models/Meet/Meet.js"],"names":["getMeet","id","done","get","query","err","rows","length","allMeets"],"mappings":";;;;;;;AAAA;;;;AAEA;;;;AAEO,IAAMA,4BAAU,SAAVA,OAAU,CAACC,EAAD,EAAKC,IAAL,EAAc;AACnC,eAAGC,GAAH,GAASC,KAAT,qOAKE,CAACH,EAAD,CALF,EAME,UAACI,GAAD,EAAMC,IAAN,EAAe;AACb,QAAID,GAAJ,EAAS,OAAOH,KAAK,EAAL,EAASG,GAAT,CAAP,CAAT,KACK,IAAIC,KAAKC,MAAL,KAAgB,CAApB,EAAuB;AAC1B,aAAOL,KAAK,EAAL,sBAAP;AACD;AACDA,SAAKI,IAAL;AACD,GAZH;AAcD,CAfM;;AAiBA,IAAME,8BAAW,SAAXA,QAAW,OAAQ;AAC9B,eAAGL,GAAH,GAASC,KAAT,uBAAqC,UAACC,GAAD,EAAMC,IAAN,EAAe;AAClD,QAAID,GAAJ,EAAS,OAAOH,KAAK,EAAL,EAASG,GAAT,CAAP;AACTH,SAAKI,IAAL;AACD,GAHD;AAID,CALM;;kBAOQ;AACbN,kBADa;AAEbQ;AAFa,C","file":"Meet.js","sourcesContent":["import db from '../../helpers/db';\nimport { sqlError } from '../../helpers/db';\nimport { noMeetError } from './errors';\n\nexport const getMeet = (id, done) => {\n  db.get().query(\n    `SELECT Team.name as team, Team.gender, Participates.placement, Region.name as region\n    FROM Participates, Team, Region \n    WHERE Participates.meet_id=? and Team.id=Participates.team_id and Region.id=Team.region_id; \n  `,\n    [id],\n    (err, rows) => {\n      if (err) return done({}, err);\n      else if (rows.length === 0) {\n        return done({}, noMeetError);\n      }\n      done(rows);\n    }\n  );\n};\n\nexport const allMeets = done => {\n  db.get().query(`SELECT * FROM Meet`, (err, rows) => {\n    if (err) return done([], err);\n    done(rows);\n  });\n};\n\nexport default {\n  getMeet,\n  allMeets,\n};\n"]}