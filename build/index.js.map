{"version":3,"sources":["../server/index.js"],"names":["PORT","process","env","app","use","urlencoded","extended","json","mode","NODE_ENV","connect","err","console","log","exit","listen"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,OAAOC,QAAQC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC;;AAEA,IAAMG,MAAM,wBAAZ;AACAA,IAAIC,GAAJ,CAAQ,qBAAWC,UAAX,CAAsB,EAAEC,UAAU,KAAZ,EAAtB,CAAR;AACAH,IAAIC,GAAJ,CAAQ,qBAAWG,IAAX,EAAR;AACAJ,IAAIC,GAAJ,CAAQ,qBAAR;;AAEA;AACAD,IAAIC,GAAJ,CAAQ,sBAAO,KAAP,CAAR;;AAEA,IAAMI,OACJP,QAAQC,GAAR,CAAYO,QAAZ,KAAyB,YAAzB,sCADF;;AAGA;AACA,aAAGC,OAAH,CAAWF,IAAX,EAAiB,UAASG,GAAT,EAAc;AAC7B,MAAIA,GAAJ,EAAS;AACPC,YAAQC,GAAR,CAAY,6BAAZ;AACAZ,YAAQa,IAAR,CAAa,CAAb;AACD,GAHD,MAGO;AACL;AACAX,QAAIC,GAAJ,CAAQ,MAAR;AACAD,QAAIC,GAAJ,CAAQ,OAAR;;AAEA;AACAD,QAAIY,MAAJ,CAAWf,IAAX,EAAiB,YAAM;AACrBY,cAAQC,GAAR,wBAAiCb,IAAjC;AACD,KAFD;AAGD;AACF,CAdD","file":"index.js","sourcesContent":["import express from 'express';\nimport cors from 'cors';\nimport bodyParser from 'body-parser';\nimport morgan from 'morgan';\nimport db, { MODE_TEST, MODE_PRODUCTION } from './helpers/db';\nimport apiRouter from './routers/api';\nimport userRouter from './routers/User';\n\nconst PORT = process.env.PORT || 5000;\n\nconst app = express();\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(bodyParser.json());\napp.use(cors());\n\n// Request logging\napp.use(morgan('dev'));\n\nconst mode =\n  process.env.NODE_ENV === 'production' ? MODE_PRODUCTION : MODE_TEST;\n\n// Connect to MySQL on start\ndb.connect(mode, function(err) {\n  if (err) {\n    console.log('Unable to connect to MySQL.');\n    process.exit(1);\n  } else {\n    // namespaced routes\n    app.use('/api', apiRouter);\n    app.use('/auth', userRouter);\n\n    // Define the port we are listening on\n    app.listen(PORT, () => {\n      console.log(`Listening on port ${PORT}...`);\n    });\n  }\n});\n"]}